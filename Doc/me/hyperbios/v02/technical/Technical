=[core/class/Doc_Table]

Model.Root={_Sec}

_Sec={st-}{Title}{-sto} {_sec}{-ol}

Title=TECHNOLOGY RULES


_sec={Scope._Sec}{-li-}{DFCStandards._Sec}{-li-}{BWG._Sec}{-li-}{TokenSigning._Sec}{-li-}{MetaDataExchange._Sec}{-li-}{EventLogging._Sec}



Scope.Title=Technical Scope


Scope._Sec={st-}{Scope.Title}{-sto} {Scope._sec}{-ol}


Scope._sec={Scope.UseCase._Sec}{-li-}{Scope.Architecture._Sec}

Scope.UseCase._Sec={st-}{Scope.UseCase.Title}{-stb} {Scope.UseCase._sec}


Scope.UseCase.Title=Technical Use Cases

Scope.UseCase._sec=The following use cases are supported under this Trust Framework: [TBD]


Scope.Comment.1=Commentary: For so long as {Co.Name}id is an early-stage research prototype, it is premature to focus on detailed documentation of supported use cases. However, this draft Trust Framework anticipates a future state at which external and internal parties will seek to implement and interoperate with {Co.Name} External Identity Federation services and the important role of this document to facilitate and regulate adoption. To that end, the types of technical use cases that would be relevant and constructive to detail in the future are noted below.


Scope.UseCase.1={Co.Name}id User Logs Into Grey Listed Relying Party
Scope.UseCase.2={Co.Name}id User Logs Into White Listed Relying Party
Scope.UseCase.3={Co.Name}id User Logs Into Black Listed Relying Party
Scope.UseCase.4=Non-{Co.Name} User Logs Into {Co.Name} External Identity Federation Enabled Site
Scope.UseCase.5=Non-{Co.Name} CAC User Logs Into {Co.Name} External Identity Federation Enabled Site
Scope.UseCase.6={Co.Name} Relying Party Site Implements {Co.Name} External Identity Federation Access
Scope.UseCase.7=Non-{Co.Name} Identity Provider Added to {Co.Name} External Identity Federation White List
Scope.UseCase.8=Non-{Co.Name} Relying Party Site Accepts {Co.Name}id User Login


Scope.Architecture._Sec={st-}{Scope.Architecture.Title}{-stb} {Scope.Architecture._sec}

Scope.Architecture.Title=Technical Architecture

Scope.Architecture.Comment.1=Commentary: In this section, if desired, {Co.Name} can describe its technical architecture. The current diagrams depicting initial architectural approach are included in Addendum 2.b below.


DFCStandards._Sec={st-}{DFCStandards.Title}{-sto} {DFCStandards._sec}{-ol}

DFCStandards.Title=Standards for Derived Federated Credentials for External Identity Federation



DFCStandards._sec={DFCStandards.OpenID._Sec}{-li-}{DFCStandards.OpenIDConnect._Sec}


DFCStandards.OpenID._Sec={st-}{DFCStandards.OpenID.Title}{-sto} {DFCStandards.OpenID._sec}{-ol}

DFCStandards.OpenID.Title=OpenID 2.0

DFCStandards.OpenID._sec={DFCStandards.OpenID.Protocol._Sec}{-li-}{DFCStandards.OpenID.Attributes._Sec}


DFCStandards.OpenID.Protocol._Sec={st-}{DFCStandards.OpenID.Protocol.Title}{-stb} {DFCStandards.OpenID.Protocol._sec}


DFCStandards.OpenID.Protocol.Title=Protocol Version

DFCStandards.OpenID.Protocol._sec=All Identity Providers and Relying Parties MUST support the OpenID 2.0 Authentication protocol as defined in http://openid.net/specs/openid-authentication-2_0.html


DFCStandards.OpenID.Attributes._Sec={st-}{DFCStandards.OpenID.Attributes.Title}{-stb} {DFCStandards.OpenID.Attributes._sec}

DFCStandards.OpenID.Attributes.Title=Attributes

DFCStandards.OpenID.Attributes._sec={DFCStandards.OpenID.Attributes.1._Sen}{br}{DFCStandards.OpenID.Attributes.2._Sen}

DFCStandards.OpenID.Attributes.1._Sen=All Identity Providers MUST support the OpenID 2.0 Attribute Exchange 1.0 protocol as defined in http://openid.net/specs/openid-attribute-exchange-1_0.html

DFCStandards.OpenID.Attributes.2._Sen=Identity Providers MUST make attributes available using the following schema URLs from axschema.org {br} Base URL: http://axschema.org/ {br} Preferred username: http://axschema.org/namePerson/friendly {br} First name: http://axschema.org/namePerson/first {br} Last name: http://axschema.org/namePerson/last {br} Full display name: http://axschema.org/namePerson {br} Business email address: http://axschema.org/contact/email {br} Business phone: http://axschema.org/contact/phone/business


DFCStandards.OpenIDConnect.=[me/hyperbios/v02/technical/Technical_DFCStandards_OpenIDConnect]


BWG._Sec={st-}{BWG.Title}{-stb} {BWG._sen}


BWG.Title=White, Black and Grey Lists

BWG._sen={BWG.0._Sen}{ol-}{BWG.1._Sec}{-li-}{BWG.2._Sec}{-li-}{BWG.3._Sec}{-li-}{BWG.4._Sec}{-li-}{BWG.5._Sec}{-ol}

BWG.0._Sen=The technical configuration accompanying implementation of White and Black list determinations made in accordance with this Trust Framework System Rules are noted in this section.


BWG.1._Sec={st-}{BWG.1.Title}{-stb} {BWG.1._sec}


BWG.1.Title=Grey List

BWG.1._sec=No additional configuration is required for any Grey List site or service.


BWG.2._Sec={st-}{BWG.2.Title}{-stb} {BWG.2._sec}

BWG.2.Title=White Listed Identity Providers

BWG.2._sec=White Listed Identity Providers have their Trust Root for OpenID 2.0 or Issuer for OpenID Connect reflected in the Relying Party.


BWG.3._Sec={st-}{BWG.3.Title}{-stb} {BWG.3._sec}

BWG.3.Title=White Listed Relying Parties

BWG.3._sec=White Listed Relying Parties have their Trust Root for OpenID 2.0 and/or their Client ID for OpenID Connect configured in the Relying Party system.

BWG.3.Comment.1=Commentary: When a Relying Party has provided a &ldquo;Login With {Co.Name} Button&rdquo;, in effect that Relying Party has White Listed {Co.Name}id as an Identity Provider.


BWG.4._Sec={st-}{BWG.4.Title}{-stb} {BWG.4._sec}

BWG.4.Title=Black Listed Identity Providers

BWG.4._sec=Black Listed Identity Providers have their Trust Root for OpenID 2.0 or Issuer for OpenID Connect configured to be denied in Relying Party system.



BWG.5._Sec={st-}{BWG.5.Title}{-stb} {BWG.5._sec}

BWG.5.Title=Black Listed Relying Parties

BWG.5._sec=Black Listed Relying Party's have their Trust Root for OpenID 2.0 and their redirect URI for OpenID Connect configured to be denied in the Relying Party system.



TokenSigning._Sec={st-}{TokenSigning.Title}{-sto} {TokenSigning._sec}{-ol}

TokenSigning.Title=Information Security

TokenSigning._sec={TokenSigning.1._Sec}{-li-}{TokenSigning.2._Sec}

TokenSigning.1._Sec={st-}{TokenSigning.1.Title}{-stb} {TokenSigning.1._sec}


TokenSigning.1.Title=Token Signing

TokenSigning.1._sec=All OpenID Connect and OAuth2 tokens MUST be signed with the public key of the Identity Provider that has issued the token.


TokenSigning.2._Sec={st-}{TokenSigning.2.Title}{-stb} {TokenSigning.2._sec}

TokenSigning.2.Title=JWK Discoverability

TokenSigning.2._sec=All public keys MUST be discoverable as per the JWT Web Key (JWK) specification.






MetaDataExchange._Sec={st-}{MetaDataExchange.Title}{-sto} {MetaDataExchange._sec}{-ol}

MetaDataExchange.Title=Meta-Data Exchange

MetaDataExchange._sec={MetaDataExchange.1._Sen}{br}{MetaDataExchange.2._Sen}{br}{MetaDataExchange.3._Sen}{br}{MetaDataExchange.4._Sen}

MetaDataExchange.1._Sen=All OpenID 2.0 servers MUST be discoverable from the public internet using the Yadis protocol defined in OpenID 2.0

MetaDataExchange.2._Sen=All OpenID Connect servers MUST be discoverable from the public internet using the Simple Web Discovery (SWD) and XRD/Webfinger protocols as defined in OpenID Connect.

MetaDataExchange.3._Sen=All OpenID Connect servers MUST allow for manual registration of OpenID Connect clients.

MetaDataExchange.4._Sen=All OpenID Connect servers SHOULD allow for dynamic client registration.


MetaDataExchange.Comment.1=Commentary: The purpose of using &ldquo;SHOULD&rdquo; in this rule is because in the specification the criteria is a &ldquo;MAY&rdquo; and this feature is not always implemented. However, we do favor its use.




EventLogging._Sec={st-}{EventLogging.Title}{-sto} {EventLogging._sec}{-ol}


EventLogging.Title=Event Logging

EventLogging._sec={EventLogging.1._Sec}{-li-}{EventLogging.2._Sec}{-li-}{EventLogging.3._Sec}


EventLogging.1._Sec={st-}{EventLogging.1.Title}{-stb} {EventLogging.1.0}{ul-}{EventLogging.1._List}{-ul}


EventLogging.1.Title=Identity Provider Event Logging

EventLogging.1._List={EventLogging.1.1}{-li-}{EventLogging.1.2}{-li-}{EventLogging.1.3} {-li-}{EventLogging.1.4}{-li-}{EventLogging.1.5}

EventLogging.1.0=An Identity Provider MUST log the following events:


EventLogging.1.1=User approves a site
EventLogging.1.2=User logs in to an Identity Provider
EventLogging.1.3=User uses an Identity Provider to log into a Relying Party
EventLogging.1.4=User denies log in to a Relying Party
EventLogging.1.5=User revokes access to a Relying Party


EventLogging.2._Sec={st-}{EventLogging.2.Title}{-stb}

EventLogging.2.Title=The System Operator shall maintain records of the Identity Provider log files related to {Co.Name} Users and required under Section 3.6.1 in accordance with {Co.Name} Records Management Procedure IM 4.3.1.1.


EventLogging.3._Sec={st-}{EventLogging.3.Title}{-stb} {EventLogging.3.0}{ul-}{EventLogging.3._List}{-ul}

EventLogging.3.Title=White Listed Relying Party Event Logging

EventLogging.3.0=A White Listed Relying Party MUST log the following events:

EventLogging.3._List={EventLogging.3.1}{-li-}{EventLogging.3.2}{-li-}{EventLogging.3.3}


EventLogging.3.1=User selects an Identity Provider to login to a Relying Party
EventLogging.3.2=User uses an Identity Provider to login to a Relying Party
EventLogging.3.3=User denies the authentication transaction



		